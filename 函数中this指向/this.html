<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <a href="###" id="a">aaaaa</a>
  <span id="text">0</span>
  <div id="btn">点我</div>

  <script>
    // 判断函数中的 this 的含义
    
    // {
    //   //1 看函数执行的时候，函数名前面是否有点，有点那么this就是点前面的对象
    //   function fn(){
    //     console.log(this)
    //   }
    //   var obj = {fn: fn};
    //   fn(); //this => window
    //   obj.fn(); //this => obj

    //   function sum(){
    //     fn(); //this和谁定义合在那调用无关  //this =》 window
    //   }
    //   sum()
    // }
    
    {
      //2 自执行函数中的this永远是window
    }
    {
      //3给一个元素绑定事件的时候，当事件执行的时候，函数中的this为当前元素
      document.getElementById('btn').onclick = fn; //this =? 当前元素
    }
    
    {
      // 4在构造函数中出现的this是当前类的实例
    }
    //练习
    {
      var num = 20;
      var obj = {
        num: 30,
        fn: (function(num){
          this.num *= 3;
          num += 15;
          var num = 45;
          return function(){
            this.num *= 4;
            num += 20;
            console.log(num)
          }
        })(num)//把全局变量的值传给函数
      }
      var fn = obj.fn;
      fn();
      obj.fn();
    }
    
    
    </script>
</body>
</html>